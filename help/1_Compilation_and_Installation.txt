INTRODUCTION
============

This help file explains how to do with the files you downloaded. It also describe the procedure to build the program from source.
If you think your technical skills are not sufficiant to choose the appropriate procedure, just take the "suggested" choices.

Choose between Part 1 (installing binaries) or Part 2 (compiling from sources).

+-----------------------------+
| PART 1: INSTALLING BINARIES |  <-- Suggested choice
+-----------------------------+

BACKGROUND
==========

You've dowloaded a binary version of tpms, and you want to know how to install it on a system.


LINUX
=====

With linux operating system, you have the choice between dynamic and static version. If you are running on a standalone computer, and never heard anything about libraries, ie. you just want it to work, we suggest to choose the static version.


Choose between Static or Dynamic version (according to which file you have dowloaded).

o Static version  <-- Suggested choice
----------------

Static version "just works" because the binary file (the program) includes all needed libraries. You have to extract the archive file you downloaded, and you will find binary files. You can put these files anywhere on your system, and call them typing the full path to access them.
Or you can copy them in a directory that is in your PATH variable, for instance /usr/local/bin on most linux distributions. Then, you will be able to directly call the binary, without the complete path.

-> You can now use the program, feel free to read the following help files to know how to do.

o Dynamic version
-----------------

Dynamic binaries is probably technically a better choice:
- less memory used (dynamic libraries are loaded once, then shared between all processus linked to them),
- more maintainable: you can updates the libraries only, if a bug is corrected (provided the version change does not break the API)

You have to install some libraries:

- boost (included in most distributions):
    boost-filesystem
    boost-system

- Bio++ (RPMs and DEBs are available here http://biopp.univ-montp2.fr/articles/download/index.html#linux):
    bpp-numcalc-1.8.0
    bpp-phyl-1.9.0
    bpp-raa-1.0.0
    bpp-seq-1.7.0
    bpp-utils-1.5.0
you don't need any -devel package.

Then, you can use the binaries provided by the archive of tpms. Feel free to use it "as is" in your home directory or to copy the binary files in a directory that is in your path, eg: /usr/local/bin

-> You can now use the program, feel free to read the following help files to know how to do.


MAC OS
======

In the Mac OS package, there is a directory called "program". In this directory, you'll find the binary files (the programs) beginning with "tpms_" and the libraries beginning with "lib". You can use the binaries "as is" letting all files in the same directory. If you want to install, it's quite easy, just type this in your terminal:
cd <directory in which you extracted tpms>/program
cp tpms_* /usr/local/bin
cp *dylib /usr/local/lib

You can now use the program, feel free to read the following help files to know how to do.

+----------------------------------+
| PART 2: INSTALLATION FROM SOURCE |
+----------------------------------+


REQUIREMENTS
============

tpms requires:
- a compilation environment, typically gcc, the Gnu Compiler Collection, with gcc-c++
- CMake, a cross-platform system for build automation
- some libraries, and their developpement files (includes files):
    â€“ boost (http://www.boost.org/)
    - bio++ (http://biopp.univ-montp2.fr/)


o Linux distributions
---------------------
    Typically, on a package based linux distribution, you will have to install all bpp & bpp-devel packages, and libboost & libboost-devel packages. 

    Boost is included in most of linux distributions. If you don't know which packages to install, just launch you package manager, perform a search on "boost", and select a package containing "devel", typically "lib64boost-devel". This package will probably trigger (thanks to the package dependencies system) the installation of all needed boost package. You can find help on your distribution community website, forums, or wiki.

    Bio++ is not included in distributions. You will have to go to the website (http://biopp.univ-montp2.fr/), go to the download section (http://biopp.univ-montp2.fr/articles/download/index.html#linux), and install packages.


o Mac OS
--------
    You'll have to download bio++ and boost sources, compile them.
    Bio++ is here: http://biopp.univ-montp2.fr/Repositories/sources/
    Boost is here: http://www.boost.org/users/download/
   
    Please refer to each program documentation.



/!\ The following steps are common to Mac OS and Linux.

PREPARING COMPILATION WITH CMAKE
================================

If you already compiled a program from sources, you probably know the command "./configure". CMake is a more modern and cross-platform equivalent. Its aim is to prepare compilation and check every requirement is installed and found. You just have to go to the main directory of tpms and type:

    cmake .

You're supposed to get a text similar to:

    -- Library BPP found here:
	includes : /usr/include/
	libraries: /usr/lib/
    -- Boost version: 1.40.0
    -- Found the following Boost libraries:
    --   filesystem
    --   system
    -- Configuring done
    -- Generating done
    -- Build files have been written to: /home/you/tpms


COMPILATION
===========

You will need to compile two binaries. tpms_mkdb to create your databases (if you don't yet have a database in the RAP format), and tpms_query to query your database. You just have to type:

    make tpms_query
    make tpms_mkdb

You'll get messages such as:

    [...]
    Linking CXX executable build/tpms_mkdb

which means your binary is done and available in the directory "build/".


INSTALLATION
============

Note it's not an obligation to install tpms. You can let the binary files in their directory ("build/") and then launch them from this directory. But if you want to be able to launch tpms programs from everywhere, you can follow these instructions below.

There is not yet an automatic way to install tpms.
But it's quite simple: you just have to copy binary files (tpms_query and tpms_mkdb) from "build/" directory to a directory which is in your PATH environment variable. Eg:
    /usr/local/bin/


You can now use tpms. The file 2_Make_a_Database.txt explains the next step: how to create your own database, and the file 3_Querying_Database.txt explains how to launch and use tpms_query.
